# ═══════════════════════════════════════════════════════════════════════
# EMBR3 HR-PMS  —  Server Environment Variables
# Copy this file to .env and fill in the real values.
# NEVER commit .env to version control.
# ═══════════════════════════════════════════════════════════════════════

# ── Core ──────────────────────────────────────────────────────────────
NODE_ENV=production
PORT=5000
SERVER_HOST=0.0.0.0

# ── Database ──────────────────────────────────────────────────────────
# MongoDB Atlas (recommended) or local URI
MONGO_URI=mongodb+srv://<user>:<password>@<cluster>.mongodb.net/<dbname>?retryWrites=true&w=majority

# ── Authentication ────────────────────────────────────────────────────
JWT_SECRET=<random-64-char-hex-string>

# ── CORS (client origin) ─────────────────────────────────────────────
# Comma-separated list of allowed front-end origins (no path, just scheme+host)
CLIENT_ORIGIN=https://embr3-onlinesystems.cloud

# Base path appended to CLIENT_ORIGIN in email links (reset-password, verify, messaging deep links)
CLIENT_BASE_PATH=/hrpms

# ── Avatar / File Storage ────────────────────────────────────────────
# "local" stores on VPS disk  |  "drive" uses Google Drive
STORAGE_PROVIDER=local
AVATAR_UPLOAD_DIR=/var/www/embr3-hr-pms/server/uploads

# Public base URL so avatar URLs resolve correctly (only for local storage)
SERVER_PUBLIC_URL=http://embr3-onlinesystems.cloud/api

# Google Drive (only if STORAGE_PROVIDER=drive)
# GOOGLE_SERVICE_ACCOUNT_KEY=./config/service-account.json
# GOOGLE_SERVICE_ACCOUNT_JSON_BASE64=
# GOOGLE_DRIVE_FOLDER_ID=
# GOOGLE_DRIVE_FOLDER_ID_IMAGE=
# GOOGLE_IMPERSONATE_EMAIL=

# ── Email (SMTP) ─────────────────────────────────────────────────────
# Option A: single SMTP URL
# SMTP_URL=smtps://user:pass@smtp.gmail.com:465

# Option B: granular settings
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=embrhrpms@gmail.com
EMAIL_PASS=<gmail-app-password>

# Disable email sending entirely (useful during initial setup)
DISABLE_EMAIL=false

# Skip SMTP verification on boot (prevents slow/failed startups)
# EMAIL_VERIFY_ON_BOOT=false

# Email branding
EMAIL_FROM_NAME=EMBR3 DTRMS Personnel
# EMAIL_EMBED_LOGO=true
# EMAIL_LOGO_PATH=./public/emblogo.svg

# ── Message Encryption ───────────────────────────────────────────────
# AES-256-GCM key for encrypting chat messages (32 bytes hex)
# MESSAGE_ENCRYPTION_KEY=<64-char-hex-string>

# ── Demo Mode (leave unset for production) ────────────────────────────
# DEMO_MODE=false
